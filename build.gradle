group 'hashcode.bali'
version '1.0-SNAPSHOT'

apply plugin: 'java'

sourceCompatibility = 1.8

repositories {
    mavenCentral()
}

dependencies {
    testCompile group: 'junit', name: 'junit', version: '4.12'
}

def input  = null
task bali(type: JavaExec) {
    classpath sourceSets.main.runtimeClasspath
    new File("${buildDir}/resources/main/input/").listFiles().each {
        if (it.isFile()) {
        print "Nom du fichier ${it.name}\n"
            input = it
            //baliExec

            standardInput = new FileInputStream(input)
            main = "hashcode.Main"

        }
    }
}

task baliExec(type: JavaExec) {
    classpath sourceSets.main.runtimeClasspath
    standardInput = new FileInputStream(input)
    main = "hashcode.Main"

}
